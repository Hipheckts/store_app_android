<style>

.spinner{
  position:absolute;
  top:50%;
  left:50%;
  margin-left:-25px;
  margin-top:-25px;	
}

.spinner svg {
  width: 50px;
  height: 50px;
  stroke: #dba634;
  fill: #dba634;
}

.table_cart{ min-width:100%; display:block;}
.table_cart thead{background:#3CC;}
.table_cart td,.table_cart th{border:1px solid #e2e2e2; border-collapse:collapse; padding:5px;}

</style>




<ion-view title="Cart"> 
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-content class="has-header padding">

   <div ng-controller="CartCtrl"> 
           <script type="text/ng-template" id="template/ngCart/cart.html"> 				
            <div class="list cart_list">
                <a class="item item-thumbnail-left" href="#" ng-repeat="item in ngCart.getCart().items track by $index">				 
				  <img src="http://ideaweaver.in/samples/mystore/{{ item.getImg() }}">
                  <span ng-init = "formData.pro_name = item.getName()"></span>
				  <h2>{{ item.getName() }} <input type="hidden" ng-model="formData.pro_name" /></h2>
                  <p>Price: {{ item.getPrice()}} <input type="hidden" value="{{ item.getPrice() }}" name="pro_price" /></p>
                  <p>Total Price: {{ item.getTotal()}} <input type="hidden" value="{{ item.getTotal() }}" name="pro_total" /></p>
				  <p>
				    <span class="button button-small button-assertive" ng-class="{'disabled':item.getQuantity()==1}" ng-click="item.setQuantity(-1, true)"><i class="ion-ios-minus"></i></span>
					 <span class="button button-small button-dark"><i>  {{ item.getQuantity() | number }} <input type="hidden" value="{{ item.getTotal() }}" name="pro_total" />  </i></span>
					<span class="button button-small button-assertive" ng-click="item.setQuantity(1, true)"><i class="ion-ios-plus"></i></span>
				  </p>
				  <div ng-click="ngCart.removeItemById(item.getId())" class="ion-close-round"></div>
                </a>
            </div>
			 
			 <div class="cart_footer">
				<div class="list" ng-show="ngCart.getTax()">
				  <div class="item item-divider">
					Tax ({{ ngCart.getTaxRate() }}%):
				  </div>
				  <a class="item" href="#">
					<strong>{{ ngCart.getTax()}} <input type="hidden" value="{{ ngCart.getTax()}}" name="tax" /></strong>
				  </a>
				</div>
				<div class="list" ng-show="ngCart.getShipping()">
				  <div class="item item-divider">
					Shipping:
				  </div>
				  <a class="item" href="#">
					<strong>{{ ngCart.getShipping()}} <input type="hidden" value="{{ ngCart.getShipping()}}" name="shipping" /></strong>
				  </a>
				</div>
				<div class="list last">
				  <div class="item item-divider">
					Total:
				  </div>
				  <a class="item" href="#">
					<strong>{{ ngCart.totalCost()}} <input type="hidden" value="{{ ngCart.totalCost()}}" name="total"  /></strong>
				  </a>
				</div>
			</div>	
           </script> 
            
            <!--<script type="text/ng-template" id="template/ngCart/cart.html">
			  <div class="alert alert-warning" role="alert" ng-show="ngCart.getTotalItems() === 0">
				Your cart is empty
			  </div>
			  <div class="table_cart" ng-show="ngCart.getTotalItems() > 0">
			
				<table class="table ngCart cart">
			
				  <thead>
					<tr>
					  <th>Remove</th>
					  <th>Product</th>
					  <th>Quantity</th>
					  <th>Amount</th>
					  <th>Total</th>
					</tr>
				  </thead>
				  <tfoot>
					<tr ng-show="ngCart.getTax()">
					  <td></td>
					  <td></td>
					  <td></td>
					  <td>Tax ({{ ngCart.getTaxRate() }}%):</td>
					  <td>{{ ngCart.getTax()}}</td>
					</tr>
					<tr ng-show="ngCart.getShipping()">
					  <td></td>
					  <td></td>
					  <td></td>
					  <td>Shipping:</td>
					  <td>{{ ngCart.getShipping()}}</td>
					</tr>
					<tr>
					  <td></td>
					  <td></td>
					  <td></td>
					  <td>Total:</td>
					  <td>{{ ngCart.totalCost()}}</td>
					</tr>
				  </tfoot>
				  <tbody>
					<tr ng-repeat="item in ngCart.getCart().items track by $index">
					  <td><div ng-click="ngCart.removeItemById(item.getId())" class="ion-close-round"></div></td>
			
					  <td>{{ item.getName() }}</td>
					  <td><span class="glyphicon glyphicon-minus" ng-class="{'disabled':item.getQuantity()==1}" ng-click="item.setQuantity(-1, true)"></span>&nbsp;&nbsp; {{ item.getQuantity() | number }}&nbsp;&nbsp;
						<span class="glyphicon glyphicon-plus" ng-click="item.setQuantity(1, true)"></span></td>
					  <td>{{ item.getPrice()}}</td>
					  <td>{{ item.getTotal()}}</td>
					</tr>
				  </tbody>
				</table>
			  </div>
           </script>-->
          <ngcart-cart></ngcart-cart> 
          
          <form id="getlogUser" data-ng-init="getlogUser()">
           <input type="hidden" ng-model="formData.logged_email" />
         </form>
          
          <form id="orderUpdate" method="post" ng-submit="orderUpdate()" style="display:none;">                
                <label> 
                   <h3 class="input-label">Order ID</h3>
                   <h3 class="energized" ng-bind="showOrderID"></h3>
                   <input type="hidden" ng-model="formData.orderID">
                </label>   
                <label> 
                  <h3 class="input-label">Registered Email</h3>
                  <h3 class="energized" ng-bind="formData.email_update"></h3>
                  <input readonly="readonly" style="background:none;" type="hidden" value="{{user.email}}" ng-model="formData.email_update">
                </label>
                <label>
                <h3 class="input-label">Address 1</h3>
                <h3 class="energized" ng-bind="formData.address1_update"></h3>
                <div class="clearfix"></div>
                </label>
                <label>
                <h3 class="input-label">Address 2</h3>
                <h3 class="energized" ng-bind="formData.address2_update"></h3>
                <div class="clearfix"></div>
                </label>
                <label>
                
                
                
                 <h3 class="input-label">Billing Address</h3>
                <ion-list>
                   <ion-radio ng-repeat="item in addressList"
                           ng-value="item.value"
                           ng-model="formData.defaultAddress">
                  {{ item.text }}
                 </ion-radio>
                </ion-list>
                </label> 
                 <label>
                 <div style="padding:10px 0 20px;">
                  <button type="submit" class="button button-assertive placeorder-btn">Place Order</button>
                 </div>
                </label>
              </form>          
           <script type="text/ng-template" id="template/ngCart/addtocart.html">
				  <div ng-hide="attrs.id">
					<a class="btn btn-lg btn-primary" ng-disabled="true" ng-transclude></a>
				
				  </div>
				  <div ng-show="attrs.id">
					<div>
					  <span ng-show="quantityMax">
							<select style="padding:5px;" name="quantity" id="quantity" ng-model="q" ng-options=" v for v in qtyOpt"></select>
					  </span>
					  <a class="btn btn-sm btn-primary" ng-click="ngCart.addItem(id, name, price, q, data)" ng-transclude></a>
					</div>
					<mark ng-show="inCart()" class="add_cart_msg">
					  This item is in your cart. <a ng-click="ngCart.removeItemById(id)" style="cursor: pointer;">Remove</a>
					</mark>
				  </div>
			   </script>
               <!-- <input type="submit" value="Place Order" class="button button-assertive" style="margin-bottom:15px; float:right;">   --> 
             <!--   <pre> {{ summary |json}}</pre>          -->
             <a class="button button-assertive checkout-btn" ng-click="confirm_order()">Confirm Order</a> 
             <!--<a class="button button-assertive placeorder-btn" ng-click="placeOrder()" style="display:none;">Checkout</a> -->
               
   </div> 
    
    
  </ion-content>
</ion-view>